<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Student Login</title>
        <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-32x32.png">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv='Cache-Control', content='no-store, no-cache, must-revalidate'>
        <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
        <link rel="stylesheet" href="assets/login2.css">
        <script src="login.js"></script>
        
    </head>
    <body onload="createCaptcha()">
        <div class="container" >
            
            <div class="navbar">
                <form action="/">
                    <a href="/"><img src="assets/vitlogo.png" alt="vit photo" id="logo"></a>
                </form>
                <h1 id="header">VFORUM</h1>
            </div>
            <div class="log">
                <h2 id="wel" >Login</h2>
                <form action="/login" method="post">
                    <div class = "inp">
                        <input type="text" id="username" name="username" onkeyup="this.value = this.value.toUpperCase()" autocomplete="off" placeholder="Username">
                        <br>
                        <input type="password" id="password" name="password" value="" required placeholder="Password">
                        <br>
                        <div class="sopas">
                            <input type="checkbox" onclick="myFunction()" id="sopas" placeholder="Show Password">
                            <label style="color: white;">Show Password</label> 
                        </div>
                    </div>
                    <div class="capbox">
                    <div id="captcha">
                        <script>
                            var code;
                            function createCaptcha() {
                            //clear the contents of captcha div first 
                            document.getElementById('captcha').innerHTML = "";
                            var charsArray =
                            "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@!#$%^&*";
                            var lengthOtp = 6;
                            var captcha = [];
                            for (var i = 0; i < lengthOtp; i++) {
                                //below code will not allow Repetition of Characters
                                var index = Math.floor(Math.random() * charsArray.length + 1); //get the next character from the array
                                if (captcha.indexOf(charsArray[index]) == -1)
                                captcha.push(charsArray[index]);
                                else i--;
                            }
                            var canv = document.createElement("canvas");
                            canv.id = "captcha";
                            canv.width = 100;
                            canv.height = 50;
                            var ctx = canv.getContext("2d");
                            ctx.font = "25px Georgia";
                            ctx.strokeText(captcha.join(""), 0, 30);
                            //storing captcha so that can validate you can save it somewhere else according to your specific requirements
                            code = captcha.join("");
                            document.getElementById("captcha").appendChild(canv); // adds the canvas to the body element
                            }
                        </script>
                        
                    
                    </div>
                    <input type="text" placeholder="Captcha" id="captchaTextBox"/>
                    </div>
                    <div class="lgbt">
                        <button class="btn" type="submit" value="submit">Login</button>
                    </div>
                </form>
            </div>
        </div>

        <script>
            function myFunction() {
              var x = document.getElementById("password");
              if (x.type === "password") {
                x.type = "text";
              } else {
                x.type = "password";
              }
            }
               
        </script>
    </body>
</html>
